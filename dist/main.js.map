{"version":3,"sources":["webpack://gitlens.github.io/./src/dom.ts","webpack://gitlens.github.io/./src/view.ts","webpack://gitlens.github.io/./src/snow.ts","webpack://gitlens.github.io/./src/index.ts","webpack://gitlens.github.io/./src/app.ts"],"names":["DOM","Storage","on","selectorOrElement","name","listener","options","el","disposed","$els","document","querySelectorAll","$el","addEventListener","dispose","removeEventListener","$","selector","clear","localStorage","get","key","value","getItem","JSON","parse","remove","removeItem","set","setItem","stringify","View","me","this","onButtonClicked","bind","e","onScrollToClicked","onShowVersionClicked","classes","dataset","push","split","paths","loading","body","classList","add","path","hash","startsWith","toLowerCase","location","getHash","setPath","scrollTo","getElementById","scrollIntoView","behavior","version","randomBetween","min","max","Math","random","Snowflake","alpha","radius","x","y","_vx","_vy","reset","window","innerWidth","innerHeight","Snow","snowing","_height","_width","_snowflakes","_clearBound","_updateBound","update","_canvas","querySelector","undefined","_ctx","getContext","trigger","onToggle","onResize","toggle","createSnowflakes","requestAnimationFrame","width","height","clearRect","length","flakes","i","color","contains","flake","save","fillStyle","beginPath","arc","PI","closePath","globalAlpha","fill","restore","activeView","_sectionCompleteHandle","views","view","onBackButtonClicked","onHashChanged","getHashAndPaths","switchView","clearTimeout","previous","prev","find","v","deactivate","activate","setTimeout","redirect","substring"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n/*global document*/\n\nexport interface Disposable {\n\tdispose: () => void;\n}\n\nexport namespace DOM {\n\texport function on<K extends keyof DocumentEventMap, T extends Element>(\n\t\tselector: string,\n\t\tname: K,\n\t\tlistener: (this: T, ev: DocumentEventMap[K]) => any,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t\tel?: Element\n\t): Disposable;\n\texport function on<K extends keyof DocumentEventMap, T extends Element>(\n\t\tel: Document | Element,\n\t\tname: K,\n\t\tlistener: (this: T, ev: DocumentEventMap[K]) => any,\n\t\toptions?: boolean | AddEventListenerOptions\n\t): Disposable;\n\texport function on<K extends keyof WindowEventMap, T extends Element>(\n\t\tel: Window,\n\t\tname: K,\n\t\tlistener: (this: T, ev: WindowEventMap[K]) => any,\n\t\toptions?: boolean | AddEventListenerOptions\n\t): Disposable;\n\texport function on<K extends keyof (DocumentEventMap | WindowEventMap), T extends Element>(\n\t\tselectorOrElement: string | Window | Document | Element,\n\t\tname: K,\n\t\tlistener: (this: T, ev: (DocumentEventMap | WindowEventMap)[K]) => any,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t\tel?: Element\n\t): Disposable {\n\t\tlet disposed = false;\n\n\t\tif (typeof selectorOrElement === 'string') {\n\t\t\tconst $els = (el ?? document).querySelectorAll(selectorOrElement);\n\t\t\tfor (const $el of $els) {\n\t\t\t\t$el.addEventListener(name, listener as EventListener, options ?? false);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdispose: () => {\n\t\t\t\t\tif (disposed) return;\n\t\t\t\t\tdisposed = true;\n\n\t\t\t\t\tfor (const $el of $els) {\n\t\t\t\t\t\t$el.removeEventListener(name, listener as EventListener, options ?? false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tselectorOrElement.addEventListener(name, listener as EventListener, options ?? false);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tif (disposed) return;\n\t\t\t\tdisposed = true;\n\n\t\t\t\tselectorOrElement.removeEventListener(name, listener as EventListener, options ?? false);\n\t\t\t},\n\t\t};\n\t}\n\n\texport function $<T extends Element>(selector: string): NodeListOf<T> {\n\t\treturn document.querySelectorAll<T>(selector);\n\t}\n}\n\nexport namespace Storage {\n\texport function clear(): void {\n\t\tlocalStorage.clear();\n\t}\n\n\texport function get<T>(key: string): T | undefined {\n\t\tconst value = localStorage.getItem(key);\n\t\tif (value == null) return undefined;\n\n\t\treturn JSON.parse(value) as T;\n\t}\n\n\texport function remove(key: string): void {\n\t\tlocalStorage.removeItem(key);\n\t}\n\n\texport function set<T>(key: string, value: T): void {\n\t\tlocalStorage.setItem(key, JSON.stringify(value));\n\t}\n}\n","'use strict';\n/*global document*/\nimport { DOM } from './dom';\n\nexport class View {\n\tprivate classes: string[];\n\n\tconstructor(public name: string) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst me = this;\n\n\t\tDOM.on(`[data-action=\"${this.name}\"]`, 'click', this.onButtonClicked.bind(this));\n\t\tDOM.on('[data-action=\"scrollTo\"]', 'click', function (this: HTMLElement, e: MouseEvent) {\n\t\t\tme.onScrollToClicked(this, e);\n\t\t});\n\t\tDOM.on('[data-action=\"showVersion\"]', 'click', function (this: HTMLElement, e: MouseEvent) {\n\t\t\tme.onShowVersionClicked(this, e);\n\t\t});\n\n\t\tconst $el = DOM.$<HTMLDivElement>(`.section[data-view=\"${this.name}\"]`)[0];\n\n\t\tthis.classes = ['is-section', `is-section--${this.name}`];\n\n\t\tconst classes = $el.dataset.classes;\n\t\tif (classes != null) {\n\t\t\tthis.classes.push(...classes.split(' '));\n\t\t}\n\t}\n\n\tget hash(): string {\n\t\treturn `#${this.name}`;\n\t}\n\n\tactivate(paths?: string[], loading: boolean = false): void {\n\t\t// console.log(`View(${this.name}).activate`);\n\t\tdocument.body.classList.add(...this.classes);\n\t}\n\n\tdeactivate(): void {\n\t\t// console.log(`View(${this.name}).deactivate`);\n\t\tdocument.body.classList.remove(...this.classes);\n\t}\n\n\tprotected getHash(path?: string): string {\n\t\treturn `${this.hash}${!path ? '' : `${path.startsWith('/') ? path : `/${path}`}`}`.toLowerCase();\n\t}\n\n\tprotected matchesPath(path?: string): boolean {\n\t\treturn document.location.hash?.toLowerCase() === this.getHash(path);\n\t}\n\n\tprotected setPath(path?: string): void {\n\t\tdocument.location.hash = this.getHash(path);\n\t}\n\n\tprivate onButtonClicked(e: MouseEvent) {\n\t\tif (document.location.hash?.startsWith(this.hash)) {\n\t\t\tdocument.location.hash = '';\n\t\t} else {\n\t\t\tthis.setPath();\n\t\t}\n\t}\n\n\tprivate onScrollToClicked($el: HTMLElement, e: MouseEvent) {\n\t\tconst scrollTo = $el.dataset.scrollTo!;\n\t\tconst $scrollTo = document.getElementById(scrollTo)!;\n\t\t$scrollTo.scrollIntoView({ behavior: 'smooth' });\n\t}\n\n\tprivate onShowVersionClicked($el: HTMLElement, e: MouseEvent) {\n\t\tconst $view = DOM.$<HTMLDivElement>(`.section[data-view=\"${this.name}\"]`)[0];\n\t\t$view.dataset.version = $el.dataset.version;\n\t}\n}\n","'use strict';\n/*global window document requestAnimationFrame*/\n\nfunction randomBetween(min: number, max: number) {\n\treturn min + Math.random() * (max - min);\n}\n\nclass Snowflake {\n\talpha = 0;\n\tradius = 0;\n\tx = 0;\n\ty = 0;\n\n\tprivate _vx = 0;\n\tprivate _vy = 0;\n\n\tconstructor() {\n\t\tthis.reset();\n\t}\n\n\treset() {\n\t\tthis.alpha = randomBetween(0.1, 0.9);\n\t\tthis.radius = randomBetween(1, 4);\n\t\tthis.x = randomBetween(0, window.innerWidth);\n\t\tthis.y = randomBetween(0, -window.innerHeight);\n\t\tthis._vx = randomBetween(-3, 3);\n\t\tthis._vy = randomBetween(2, 5);\n\t}\n\n\tupdate() {\n\t\tthis.x += this._vx;\n\t\tthis.y += this._vy;\n\n\t\tif (this.y + this.radius > window.innerHeight) {\n\t\t\tthis.reset();\n\t\t}\n\t}\n}\n\nexport class Snow {\n\tprivate readonly _canvas: HTMLCanvasElement | undefined;\n\tprivate readonly _ctx: CanvasRenderingContext2D | undefined;\n\tprivate _height: number = 0;\n\tprivate _width: number = 0;\n\tprivate readonly _snowflakes: Snowflake[] = [];\n\n\tprivate readonly _clearBound: () => void;\n\tprivate readonly _updateBound: () => void;\n\n\tconstructor(public snowing: boolean = true) {\n\t\tthis._clearBound = this.clear.bind(this);\n\t\tthis._updateBound = this.update.bind(this);\n\n\t\tthis._canvas = document.querySelector<HTMLCanvasElement>('canvas.snow') ?? undefined;\n\t\tthis._ctx = this._canvas?.getContext('2d') ?? undefined;\n\n\t\tif (this._ctx == null) return;\n\n\t\tconst trigger = document.querySelector('.snow__trigger');\n\t\tif (trigger != null) {\n\t\t\ttrigger.addEventListener('click', () => this.onToggle(!this.snowing));\n\t\t}\n\n\t\twindow.addEventListener('resize', () => this.onResize());\n\t\tthis.onResize();\n\n\t\tthis.onToggle(snowing);\n\t}\n\n\tonToggle(snowing: boolean): void {\n\t\tthis.snowing = snowing;\n\t\tdocument.body.classList.toggle('snowing', this.snowing);\n\n\t\tif (this.snowing) {\n\t\t\tthis.createSnowflakes();\n\t\t\trequestAnimationFrame(this._updateBound);\n\t\t}\n\t}\n\n\tonResize(): void {\n\t\tif (this._canvas == null) return;\n\n\t\tthis._height = window.innerHeight;\n\t\tthis._width = window.innerWidth;\n\t\tthis._canvas.width = this._width;\n\t\tthis._canvas.height = this._height;\n\t}\n\n\tclear(): void {\n\t\tif (this._canvas == null || this._ctx == null) return;\n\n\t\tthis._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n\t\tthis._snowflakes.length = 0;\n\t}\n\n\tcreateSnowflakes(): void {\n\t\tconst flakes = window.innerWidth / 4;\n\n\t\tfor (let i = 0; i < flakes; i++) {\n\t\t\tthis._snowflakes.push(new Snowflake());\n\t\t}\n\t}\n\n\tupdate(): void {\n\t\tif (this._ctx == null) return;\n\n\t\tthis._ctx.clearRect(0, 0, this._width, this._height);\n\n\t\tconst color = document.body.classList.contains('vscode-light') ? '#424242' : '#fff';\n\n\t\tfor (const flake of this._snowflakes) {\n\t\t\tflake.update();\n\n\t\t\tthis._ctx.save();\n\t\t\tthis._ctx.fillStyle = color;\n\t\t\tthis._ctx.beginPath();\n\t\t\tthis._ctx.arc(flake.x, flake.y, flake.radius, 0, Math.PI * 2);\n\t\t\tthis._ctx.closePath();\n\t\t\tthis._ctx.globalAlpha = flake.alpha;\n\t\t\tthis._ctx.fill();\n\t\t\tthis._ctx.restore();\n\t\t}\n\n\t\trequestAnimationFrame(this.snowing ? this._updateBound : this._clearBound);\n\t}\n}\n","'use strict';\nimport { App } from './app';\nimport { Snow } from './snow';\n\nnew App();\nrequestAnimationFrame(() => new Snow());\n","'use strict';\n/*global window document*/\nimport { DOM } from './dom';\nimport { View } from './view';\n\nexport class App {\n\tactiveView = '';\n\n\treadonly views: View[];\n\n\tprivate _sectionCompleteHandle = 0;\n\n\tconstructor() {\n\t\tthis.views = [];\n\t\tfor (const $el of DOM.$<HTMLInputElement>('.section[data-view]')) {\n\t\t\tconst view = $el.dataset.view;\n\t\t\tif (view == null) continue;\n\n\t\t\tthis.views.push(new View(view));\n\t\t}\n\n\t\tDOM.on('[data-action=\"back\"]', 'click', this.onBackButtonClicked.bind(this));\n\t\tDOM.on('.changelog__image', 'click', function (this: HTMLImageElement) {\n\t\t\tthis.classList.toggle('expand', !this.classList.contains('expand'));\n\t\t});\n\t\twindow.addEventListener('hashchange', this.onHashChanged.bind(this), false);\n\n\t\tconst [hash, paths] = this.getHashAndPaths();\n\t\tthis.switchView(hash, paths, true);\n\t}\n\n\tswitchView(hash: string, paths: string[], loading = false): void {\n\t\twindow.clearTimeout(this._sectionCompleteHandle);\n\t\tthis._sectionCompleteHandle = 0;\n\n\t\tconst previous = this.activeView;\n\n\t\tswitch (hash) {\n\t\t\tcase '': {\n\t\t\t\tthis.activeView = '';\n\n\t\t\t\tif (previous !== this.activeView) {\n\t\t\t\t\tconst prev = this.views.find((v) => v.name === previous);\n\t\t\t\t\tif (prev != null) {\n\t\t\t\t\t\tprev.deactivate();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdocument.body.classList.toggle('complete', loading);\n\t\t\t\tif (!loading) {\n\t\t\t\t\tdocument.location.hash = '';\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tconst view = this.views.find((v) => v.name === hash);\n\t\t\t\tif (view == null) {\n\t\t\t\t\tthis.switchView('', [], false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.activeView = hash;\n\n\t\t\t\tif (previous !== this.activeView) {\n\t\t\t\t\tconst prev = this.views.find((v) => v.name === previous);\n\t\t\t\t\tif (prev != null) {\n\t\t\t\t\t\tprev.deactivate();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tview.activate(paths, loading);\n\n\t\t\t\tdocument.body.classList.toggle('complete', loading);\n\t\t\t\tif (!loading) {\n\t\t\t\t\tthis._sectionCompleteHandle = window.setTimeout(\n\t\t\t\t\t\t() => document.body.classList.add('complete'),\n\t\t\t\t\t\t1000\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (loading) {\n\t\t\tsetTimeout(() => document.body.classList.remove('preload'), 1);\n\t\t}\n\t}\n\n\tprivate onBackButtonClicked(e: MouseEvent) {\n\t\tdocument.location.hash = '';\n\t}\n\n\tprivate onHashChanged(e: HashChangeEvent) {\n\t\tconst [hash, paths] = this.getHashAndPaths();\n\n\t\tif (this.redirect(hash, paths)) return;\n\n\t\tthis.switchView(hash, paths);\n\t}\n\n\tprivate getHashAndPaths(): [string, string[]] {\n\t\tlet hash = document.location.hash?.substring(1);\n\t\tlet paths: string[] = [];\n\t\tif (hash) {\n\t\t\t[hash, ...paths] = hash.split('/');\n\t\t}\n\n\t\treturn [hash, paths];\n\t}\n\n\tprivate redirect(hash: string, paths: string[]): boolean {\n\t\tif (hash === 'support-gitlens') {\n\t\t\tdocument.location.hash = '#sponsor';\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n"],"sourceRoot":""}